{
    "version": 1,
    "serial": 28,
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {
                "orchestrator": "95.181.220.15",
                "output": "consul_servers: 172.16.0.3,172.16.0.7,172.16.0.6\nconsul_agents: 172.16.0.8,172.16.0.4,172.16.0.9\nwebservers: 172.16.0.8,172.16.0.4,172.16.0.9"
            },
            "resources": {
                "openstack_compute_instance_v2.instance-consul-server-1": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_networking_floatingip_v2.consul_server_floating_ip",
                        "openstack_networking_network_v2.consul-demo-net",
                        "openstack_networking_router_interface_v2.net-interface-consul-demo"
                    ],
                    "primary": {
                        "id": "2714feba-bdbe-4be2-aaf3-a021f5f33187",
                        "attributes": {
                            "access_ip_v4": "95.181.220.150",
                            "access_ip_v6": "",
                            "flavor_id": "100",
                            "flavor_name": "1_vCPU_RAM_512M_HD_10G",
                            "floating_ip": "95.181.220.150",
                            "id": "2714feba-bdbe-4be2-aaf3-a021f5f33187",
                            "image_id": "eee08821-c95a-448f-9292-73908c794661",
                            "image_name": "ubuntu-14.04_x86_64",
                            "key_pair": "cd-demo",
                            "metadata.#": "0",
                            "name": "consul-server-1",
                            "network.#": "1",
                            "network.0.fixed_ip_v4": "172.16.0.3",
                            "network.0.fixed_ip_v6": "",
                            "network.0.mac": "fa:16:3e:20:dc:d1",
                            "network.0.name": "consul-demo-net",
                            "network.0.port": "",
                            "network.0.uuid": "4cb99383-cbd0-404d-b0c5-f8479cf6b7c5",
                            "region": "tr2",
                            "security_groups.#": "0"
                        }
                    }
                },
                "openstack_compute_instance_v2.instance-consul-server-2": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_networking_network_v2.consul-demo-net",
                        "openstack_networking_router_interface_v2.net-interface-consul-demo"
                    ],
                    "primary": {
                        "id": "4a5b6ea6-1986-4b12-be84-a8dc5c5b36c7",
                        "attributes": {
                            "access_ip_v4": "172.16.0.7",
                            "access_ip_v6": "",
                            "flavor_id": "101",
                            "flavor_name": "1_vCPU_RAM_1G_HD_10G",
                            "id": "4a5b6ea6-1986-4b12-be84-a8dc5c5b36c7",
                            "image_id": "eee08821-c95a-448f-9292-73908c794661",
                            "image_name": "ubuntu-14.04_x86_64",
                            "key_pair": "cd-demo",
                            "metadata.#": "0",
                            "name": "consul-server-2",
                            "network.#": "1",
                            "network.0.fixed_ip_v4": "172.16.0.7",
                            "network.0.fixed_ip_v6": "",
                            "network.0.mac": "fa:16:3e:5e:9c:62",
                            "network.0.name": "consul-demo-net",
                            "network.0.port": "",
                            "network.0.uuid": "4cb99383-cbd0-404d-b0c5-f8479cf6b7c5",
                            "region": "tr2",
                            "security_groups.#": "0"
                        }
                    }
                },
                "openstack_compute_instance_v2.instance-consul-server-3": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_networking_network_v2.consul-demo-net",
                        "openstack_networking_router_interface_v2.net-interface-consul-demo"
                    ],
                    "primary": {
                        "id": "b45dd3dd-ce8e-4e22-b62d-e4be8e2e6ba1",
                        "attributes": {
                            "access_ip_v4": "172.16.0.6",
                            "access_ip_v6": "",
                            "flavor_id": "101",
                            "flavor_name": "1_vCPU_RAM_1G_HD_10G",
                            "id": "b45dd3dd-ce8e-4e22-b62d-e4be8e2e6ba1",
                            "image_id": "eee08821-c95a-448f-9292-73908c794661",
                            "image_name": "ubuntu-14.04_x86_64",
                            "key_pair": "cd-demo",
                            "metadata.#": "0",
                            "name": "consul-server-3",
                            "network.#": "1",
                            "network.0.fixed_ip_v4": "172.16.0.6",
                            "network.0.fixed_ip_v6": "",
                            "network.0.mac": "fa:16:3e:78:fc:25",
                            "network.0.name": "consul-demo-net",
                            "network.0.port": "",
                            "network.0.uuid": "4cb99383-cbd0-404d-b0c5-f8479cf6b7c5",
                            "region": "tr2",
                            "security_groups.#": "0"
                        }
                    }
                },
                "openstack_compute_instance_v2.instance-orchestrator": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_networking_floatingip_v2.orchestrator_floating_ip",
                        "openstack_networking_network_v2.consul-demo-net",
                        "openstack_networking_router_interface_v2.net-interface-consul-demo"
                    ],
                    "primary": {
                        "id": "157f8a5a-2a8d-4df8-a171-f643a6209592",
                        "attributes": {
                            "access_ip_v4": "95.181.220.15",
                            "access_ip_v6": "",
                            "flavor_id": "100",
                            "flavor_name": "1_vCPU_RAM_512M_HD_10G",
                            "floating_ip": "95.181.220.15",
                            "id": "157f8a5a-2a8d-4df8-a171-f643a6209592",
                            "image_id": "eee08821-c95a-448f-9292-73908c794661",
                            "image_name": "ubuntu-14.04_x86_64",
                            "key_pair": "cd-demo",
                            "metadata.#": "0",
                            "name": "orchestrator",
                            "network.#": "1",
                            "network.0.fixed_ip_v4": "172.16.0.5",
                            "network.0.fixed_ip_v6": "",
                            "network.0.mac": "fa:16:3e:cf:f5:5d",
                            "network.0.name": "consul-demo-net",
                            "network.0.port": "",
                            "network.0.uuid": "4cb99383-cbd0-404d-b0c5-f8479cf6b7c5",
                            "region": "tr2",
                            "security_groups.#": "0"
                        }
                    }
                },
                "openstack_compute_instance_v2.instance-web-server-1": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_networking_network_v2.consul-demo-net",
                        "openstack_networking_router_interface_v2.net-interface-consul-demo"
                    ],
                    "primary": {
                        "id": "dad657f7-2420-4e1f-958b-9594421cabfd",
                        "attributes": {
                            "access_ip_v4": "172.16.0.8",
                            "access_ip_v6": "",
                            "flavor_id": "101",
                            "flavor_name": "1_vCPU_RAM_1G_HD_10G",
                            "id": "dad657f7-2420-4e1f-958b-9594421cabfd",
                            "image_id": "eee08821-c95a-448f-9292-73908c794661",
                            "image_name": "ubuntu-14.04_x86_64",
                            "key_pair": "cd-demo",
                            "metadata.#": "0",
                            "name": "web-server-1",
                            "network.#": "1",
                            "network.0.fixed_ip_v4": "172.16.0.8",
                            "network.0.fixed_ip_v6": "",
                            "network.0.mac": "fa:16:3e:db:d2:6a",
                            "network.0.name": "consul-demo-net",
                            "network.0.port": "",
                            "network.0.uuid": "4cb99383-cbd0-404d-b0c5-f8479cf6b7c5",
                            "region": "tr2",
                            "security_groups.#": "0"
                        }
                    }
                },
                "openstack_compute_instance_v2.instance-web-server-2": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_networking_network_v2.consul-demo-net",
                        "openstack_networking_router_interface_v2.net-interface-consul-demo"
                    ],
                    "primary": {
                        "id": "da72a139-07f6-4707-80a5-ab5e319be3a9",
                        "attributes": {
                            "access_ip_v4": "172.16.0.4",
                            "access_ip_v6": "",
                            "flavor_id": "101",
                            "flavor_name": "1_vCPU_RAM_1G_HD_10G",
                            "id": "da72a139-07f6-4707-80a5-ab5e319be3a9",
                            "image_id": "eee08821-c95a-448f-9292-73908c794661",
                            "image_name": "ubuntu-14.04_x86_64",
                            "key_pair": "cd-demo",
                            "metadata.#": "0",
                            "name": "web-server-2",
                            "network.#": "1",
                            "network.0.fixed_ip_v4": "172.16.0.4",
                            "network.0.fixed_ip_v6": "",
                            "network.0.mac": "fa:16:3e:cb:e5:25",
                            "network.0.name": "consul-demo-net",
                            "network.0.port": "",
                            "network.0.uuid": "4cb99383-cbd0-404d-b0c5-f8479cf6b7c5",
                            "region": "tr2",
                            "security_groups.#": "0"
                        }
                    }
                },
                "openstack_compute_instance_v2.instance-web-server-3": {
                    "type": "openstack_compute_instance_v2",
                    "depends_on": [
                        "openstack_networking_network_v2.consul-demo-net",
                        "openstack_networking_router_interface_v2.net-interface-consul-demo"
                    ],
                    "primary": {
                        "id": "4a3ad37b-a5b3-40c3-adf9-86935da7c37c",
                        "attributes": {
                            "access_ip_v4": "172.16.0.9",
                            "access_ip_v6": "",
                            "flavor_id": "101",
                            "flavor_name": "1_vCPU_RAM_1G_HD_10G",
                            "id": "4a3ad37b-a5b3-40c3-adf9-86935da7c37c",
                            "image_id": "eee08821-c95a-448f-9292-73908c794661",
                            "image_name": "ubuntu-14.04_x86_64",
                            "key_pair": "cd-demo",
                            "metadata.#": "0",
                            "name": "web-server-3",
                            "network.#": "1",
                            "network.0.fixed_ip_v4": "172.16.0.9",
                            "network.0.fixed_ip_v6": "",
                            "network.0.mac": "fa:16:3e:87:fd:92",
                            "network.0.name": "consul-demo-net",
                            "network.0.port": "",
                            "network.0.uuid": "4cb99383-cbd0-404d-b0c5-f8479cf6b7c5",
                            "region": "tr2",
                            "security_groups.#": "0"
                        }
                    }
                },
                "openstack_fw_firewall_v1.consul-demo-firewall": {
                    "type": "openstack_fw_firewall_v1",
                    "depends_on": [
                        "openstack_fw_policy_v1.consul-demo-policy"
                    ],
                    "primary": {
                        "id": "19533201-7774-4c65-81d8-d93ece26e237",
                        "attributes": {
                            "admin_state_up": "true",
                            "description": "",
                            "id": "19533201-7774-4c65-81d8-d93ece26e237",
                            "name": "consul-demo-firewall",
                            "policy_id": "7fe3630e-e74d-48ba-9afe-00d0809a0deb",
                            "region": "tr2",
                            "tenant_id": "ed955544151a41d888a7ebd2dec5093d"
                        }
                    }
                },
                "openstack_fw_policy_v1.consul-demo-policy": {
                    "type": "openstack_fw_policy_v1",
                    "depends_on": [
                        "openstack_fw_rule_v1.in-allow-dns",
                        "openstack_fw_rule_v1.in-allow-http",
                        "openstack_fw_rule_v1.in-allow-ssh",
                        "openstack_fw_rule_v1.out-allow-icmp",
                        "openstack_fw_rule_v1.out-allow-tcp",
                        "openstack_fw_rule_v1.out-allow-udp"
                    ],
                    "primary": {
                        "id": "7fe3630e-e74d-48ba-9afe-00d0809a0deb",
                        "attributes": {
                            "audited": "false",
                            "description": "",
                            "id": "7fe3630e-e74d-48ba-9afe-00d0809a0deb",
                            "name": "consul-demo-policy",
                            "region": "tr2",
                            "rules.#": "6",
                            "rules.1424913945": "4fc193a7-6818-49ea-815a-d579af79a5e5",
                            "rules.1429005347": "4441946b-8b88-4509-8518-c2a30012aeee",
                            "rules.1559352228": "8ca388c5-e04d-448f-a1f2-2d78ba49752e",
                            "rules.2638049204": "286c3183-e3e3-4389-b2a4-3cbb7c1ba83c",
                            "rules.2838119084": "64298a1f-b9f4-49f6-b592-38c793494dd9",
                            "rules.4003469077": "cf8f0563-a2e5-4fce-8315-043cec6c86e9",
                            "shared": "false",
                            "tenant_id": "ed955544151a41d888a7ebd2dec5093d"
                        }
                    }
                },
                "openstack_fw_rule_v1.in-allow-dns": {
                    "type": "openstack_fw_rule_v1",
                    "primary": {
                        "id": "8ca388c5-e04d-448f-a1f2-2d78ba49752e",
                        "attributes": {
                            "action": "allow",
                            "description": "",
                            "destination_ip_address": "",
                            "destination_port": "53",
                            "enabled": "true",
                            "id": "8ca388c5-e04d-448f-a1f2-2d78ba49752e",
                            "ip_version": "4",
                            "name": "in-allow-dns",
                            "protocol": "udp",
                            "region": "tr2",
                            "source_ip_address": "",
                            "source_port": ""
                        }
                    }
                },
                "openstack_fw_rule_v1.in-allow-http": {
                    "type": "openstack_fw_rule_v1",
                    "primary": {
                        "id": "4fc193a7-6818-49ea-815a-d579af79a5e5",
                        "attributes": {
                            "action": "allow",
                            "description": "",
                            "destination_ip_address": "",
                            "destination_port": "80",
                            "enabled": "true",
                            "id": "4fc193a7-6818-49ea-815a-d579af79a5e5",
                            "ip_version": "4",
                            "name": "in-allow-http",
                            "protocol": "tcp",
                            "region": "tr2",
                            "source_ip_address": "",
                            "source_port": ""
                        }
                    }
                },
                "openstack_fw_rule_v1.in-allow-ssh": {
                    "type": "openstack_fw_rule_v1",
                    "primary": {
                        "id": "64298a1f-b9f4-49f6-b592-38c793494dd9",
                        "attributes": {
                            "action": "allow",
                            "description": "",
                            "destination_ip_address": "",
                            "destination_port": "22",
                            "enabled": "true",
                            "id": "64298a1f-b9f4-49f6-b592-38c793494dd9",
                            "ip_version": "4",
                            "name": "in-allow-ssh",
                            "protocol": "tcp",
                            "region": "tr2",
                            "source_ip_address": "",
                            "source_port": ""
                        }
                    }
                },
                "openstack_fw_rule_v1.out-allow-icmp": {
                    "type": "openstack_fw_rule_v1",
                    "primary": {
                        "id": "4441946b-8b88-4509-8518-c2a30012aeee",
                        "attributes": {
                            "action": "allow",
                            "description": "",
                            "destination_ip_address": "",
                            "destination_port": "",
                            "enabled": "true",
                            "id": "4441946b-8b88-4509-8518-c2a30012aeee",
                            "ip_version": "4",
                            "name": "out-allow-icmp",
                            "protocol": "icmp",
                            "region": "tr2",
                            "source_ip_address": "",
                            "source_port": ""
                        }
                    }
                },
                "openstack_fw_rule_v1.out-allow-tcp": {
                    "type": "openstack_fw_rule_v1",
                    "primary": {
                        "id": "286c3183-e3e3-4389-b2a4-3cbb7c1ba83c",
                        "attributes": {
                            "action": "allow",
                            "description": "",
                            "destination_ip_address": "",
                            "destination_port": "",
                            "enabled": "true",
                            "id": "286c3183-e3e3-4389-b2a4-3cbb7c1ba83c",
                            "ip_version": "4",
                            "name": "out-allow-tcp",
                            "protocol": "tcp",
                            "region": "tr2",
                            "source_ip_address": "",
                            "source_port": ""
                        }
                    }
                },
                "openstack_fw_rule_v1.out-allow-udp": {
                    "type": "openstack_fw_rule_v1",
                    "primary": {
                        "id": "cf8f0563-a2e5-4fce-8315-043cec6c86e9",
                        "attributes": {
                            "action": "allow",
                            "description": "",
                            "destination_ip_address": "",
                            "destination_port": "",
                            "enabled": "true",
                            "id": "cf8f0563-a2e5-4fce-8315-043cec6c86e9",
                            "ip_version": "4",
                            "name": "out-allow-dns",
                            "protocol": "udp",
                            "region": "tr2",
                            "source_ip_address": "",
                            "source_port": ""
                        }
                    }
                },
                "openstack_networking_floatingip_v2.consul_server_floating_ip": {
                    "type": "openstack_networking_floatingip_v2",
                    "primary": {
                        "id": "b22ac94c-a38a-4f0d-8499-da57e8811153",
                        "attributes": {
                            "address": "95.181.220.150",
                            "id": "b22ac94c-a38a-4f0d-8499-da57e8811153",
                            "pool": "PublicNetwork-02",
                            "region": "tr2"
                        }
                    }
                },
                "openstack_networking_floatingip_v2.orchestrator_floating_ip": {
                    "type": "openstack_networking_floatingip_v2",
                    "primary": {
                        "id": "11d266cc-4766-4291-8630-7cada500c0cf",
                        "attributes": {
                            "address": "95.181.220.15",
                            "id": "11d266cc-4766-4291-8630-7cada500c0cf",
                            "pool": "PublicNetwork-02",
                            "region": "tr2"
                        }
                    }
                },
                "openstack_networking_network_v2.consul-demo-net": {
                    "type": "openstack_networking_network_v2",
                    "primary": {
                        "id": "4cb99383-cbd0-404d-b0c5-f8479cf6b7c5",
                        "attributes": {
                            "admin_state_up": "true",
                            "id": "4cb99383-cbd0-404d-b0c5-f8479cf6b7c5",
                            "name": "consul-demo-net",
                            "region": "tr2",
                            "shared": "false",
                            "tenant_id": "ed955544151a41d888a7ebd2dec5093d"
                        }
                    }
                },
                "openstack_networking_router_interface_v2.net-interface-consul-demo": {
                    "type": "openstack_networking_router_interface_v2",
                    "depends_on": [
                        "openstack_networking_subnet_v2.consul-demo-subnet"
                    ],
                    "primary": {
                        "id": "91afa863-3c25-4cdc-84b1-fa4a0ef4054c",
                        "attributes": {
                            "id": "91afa863-3c25-4cdc-84b1-fa4a0ef4054c",
                            "region": "tr2",
                            "router_id": "3292fe33-0243-4bca-8acc-b7731ec4298e",
                            "subnet_id": "79f60e45-48b6-480f-8692-aac446eed4ec"
                        }
                    }
                },
                "openstack_networking_subnet_v2.consul-demo-subnet": {
                    "type": "openstack_networking_subnet_v2",
                    "depends_on": [
                        "openstack_networking_network_v2.consul-demo-net"
                    ],
                    "primary": {
                        "id": "79f60e45-48b6-480f-8692-aac446eed4ec",
                        "attributes": {
                            "cidr": "172.16.0.0/24",
                            "dns_nameservers.#": "0",
                            "enable_dhcp": "true",
                            "gateway_ip": "172.16.0.1",
                            "host_routes.#": "0",
                            "id": "79f60e45-48b6-480f-8692-aac446eed4ec",
                            "ip_version": "4",
                            "name": "",
                            "network_id": "4cb99383-cbd0-404d-b0c5-f8479cf6b7c5",
                            "region": "tr2",
                            "tenant_id": "ed955544151a41d888a7ebd2dec5093d"
                        }
                    }
                }
            }
        }
    ]
}
